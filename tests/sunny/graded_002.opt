	.ORIG x2000
	JSR main
	HALT
main:	ADD R6, R6, #-1
	ADD R6, R6, #-1
	STR R7, R6, #0
	ADD R6, R6, #-1
	STR R5, R6, #0
	ADD R5, R6, #-1
	ADD R6, R6, #-13
	IN 
	ADD R8, R0, #0
	STR R8, R5, #-1
	SET R10, #0
	STR R10, R5, #-2
	SET R12, #0
	STR R12, R5, #0
L2:	NOP 
	LDR R15, R5, #0
	SET R16, #10
	SUB R17, R15, R16
	BRn R17, L5
	SET R17, #0
L5:	NOP 
	BRz R17, L4
	SET R18, #10
	ADD R19, R5, #-12
	SET R20, #0
	MUL R21, R20, #1
	ADD R22, R19, R21
	STR R18, R22, #0
	ADD R23, R5, #-12
	SET R24, #0
	MUL R25, R24, #1
	ADD R26, R23, R25
	LDR R27, R26, #0
	ADD R0, R27, #0
	OUT 
L3:	NOP 
	LDR R29, R5, #0
	SET R30, #1
	ADD R31, R29, R30
	STR R31, R5, #0
	BRA L2
L4:	NOP 
	SET R33, #0
	STR R33, R5, #0
L6:	NOP 
	LDR R36, R5, #0
	LDR R38, R5, #-1
	SUB R39, R36, R38
	BRn R39, L9
	SET R39, #0
L9:	NOP 
	BRz R39, L8
	LDR R41, R5, #-1
	ADD R42, R5, #-12
	LDR R44, R5, #0
	MUL R45, R44, #1
	ADD R46, R42, R45
	LDR R47, R46, #0
	ADD R48, R41, R47
	ADD R49, R5, #-12
	LDR R51, R5, #0
	MUL R52, R51, #1
	ADD R53, R49, R52
	STR R48, R53, #0
	ADD R54, R5, #-12
	LDR R56, R5, #0
	MUL R57, R56, #1
	ADD R58, R54, R57
	LDR R59, R58, #0
	ADD R0, R59, #0
	OUT 
L7:	NOP 
	LDR R61, R5, #0
	SET R62, #1
	ADD R63, R61, R62
	STR R63, R5, #0
	BRA L6
L8:	NOP 
	SET R65, #0
	STR R65, R5, #0
L10:	NOP 
	LDR R68, R5, #0
	LDR R70, R5, #-1
	SUB R71, R68, R70
	BRn R71, L13
	SET R71, #0
L13:	NOP 
	BRz R71, L12
	LDR R73, R5, #-2
	ADD R74, R5, #-12
	LDR R76, R5, #0
	MUL R77, R76, #1
	ADD R78, R74, R77
	LDR R79, R78, #0
	ADD R80, R73, R79
	STR R80, R5, #-2
	LDR R83, R5, #-2
	ADD R0, R83, #0
	OUT 
L11:	NOP 
	LDR R85, R5, #0
	SET R86, #1
	ADD R87, R85, R86
	STR R87, R5, #0
	BRA L10
L12:	NOP 
	LDR R90, R5, #-2
	ADD R0, R90, #0
	OUT 
	SET R91, #0
	STR R91, R5, #3
	BRA L1
L1:	ADD R6, R6, #13
	LDR R5, R6, #0
	ADD R6, R6, #1
	LDR R7, R6, #0
	ADD R6, R6, #1
	RET 
	.END
